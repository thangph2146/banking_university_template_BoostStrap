<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Trang quản lý sự kiện - Hệ thống Quản lý Sự kiện của Đại học Ngân hàng TP.HCM.">
    <title>Đại học Ngân hàng TP.HCM - Quản lý Sự kiện</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/custom.css">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- AOS CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css">
    <link rel="stylesheet" href="../css/side-bar.css">
    <link rel="stylesheet" href="../css/variable.css">
</head>

<body>
    <!-- Sidebar -->
    <div class="admin-sidebar" id="adminSidebar">
        <div class="admin-sidebar-header d-flex align-items-center">
            <a href="../index.html" class="d-flex align-items-center text-decoration-none">
                <img src="../public/images/logo/logo-white-vertical.png" alt="Logo" height="40" class="me-2">
                <span class="fs-5 fw-bold text-white d-none d-sm-inline">HUB Admin</span>
            </a>
            <button class="btn-close btn-close-white ms-auto d-lg-none" id="closeSidebarBtn" aria-label="Close"></button>
        </div>

        <div class="pt-2">
            <div class="admin-sidebar-nav-heading">Chính</div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        <i class="bi bi-speedometer2"></i> Dashboard
                    </a>
                </li>
            </ul>

            <div class="admin-sidebar-nav-heading">Quản lý nội dung</div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="events.html">
                        <i class="bi bi-calendar-event"></i> Quản lý sự kiện
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="categories.html">
                        <i class="bi bi-tag"></i> Danh mục
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="registrations.html">
                        <i class="bi bi-clipboard-check"></i> Đăng ký sự kiện
                    </a>
                </li>
            </ul>

            <div class="admin-sidebar-nav-heading">Người dùng & Tương tác</div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="doan-vien.html">
                        <i class="bi bi-people"></i> Quản lý đoàn viên
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contacts.html">
                        <i class="bi bi-chat-left-text"></i> Tin nhắn liên hệ
                    </a>
                </li>
            </ul>

            <div class="admin-sidebar-nav-heading">Hệ thống</div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="settings.html">
                        <i class="bi bi-gear"></i> Cài đặt
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="logs.html">
                        <i class="bi bi-file-earmark-text"></i> Nhật ký hệ thống
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-danger" href="../login.html">
                        <i class="bi bi-box-arrow-right"></i> Đăng xuất
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar admin-navbar shadow-sm">
        <div class="container-fluid px-4">
            <button class="btn d-lg-none" id="toggleSidebarBtn">
                <i class="bi bi-list fs-4"></i>
            </button>
            <div class="d-flex align-items-center ms-auto">
                <div class="dropdown">
                    <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-bell position-relative fs-5">
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.5rem;">
                                5
                            </span>
                        </i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="notificationDropdown" style="width: 300px;">
                        <li><h6 class="dropdown-header">Thông báo</h6></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item d-flex align-items-center py-2" href="#">
                            <div class="flex-shrink-0">
                                <i class="bi bi-person-plus text-primary"></i>
                            </div>
                            <div class="ms-3">
                                <div class="small text-muted">Vừa cập nhật</div>
                                <div>5 người dùng mới đã đăng ký</div>
                            </div>
                        </a></li>
                        <li><a class="dropdown-item d-flex align-items-center py-2" href="#">
                            <div class="flex-shrink-0">
                                <i class="bi bi-calendar-check text-success"></i>
                            </div>
                            <div class="ms-3">
                                <div class="small text-muted">10 phút trước</div>
                                <div>Sự kiện "Hội thảo Ngân hàng số" đã đầy</div>
                            </div>
                        </a></li>
                        <li><a class="dropdown-item d-flex align-items-center py-2" href="#">
                            <div class="flex-shrink-0">
                                <i class="bi bi-chat-left-text text-warning"></i>
                            </div>
                            <div class="ms-3">
                                <div class="small text-muted">1 giờ trước</div>
                                <div>3 tin nhắn mới cần phản hồi</div>
                            </div>
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-center small text-muted" href="#">Xem tất cả thông báo</a></li>
                    </ul>
                </div>
                <div class="dropdown ms-3">
                    <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="../public/images/avatar-placeholder.png" alt="Admin" width="32" height="32" class="rounded-circle me-2">
                        <span>Admin</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="userDropdown">
                        <li><a class="dropdown-item" href="profile.html"><i class="bi bi-person me-2"></i>Hồ sơ</a></li>
                        <li><a class="dropdown-item" href="settings.html"><i class="bi bi-gear me-2"></i>Cài đặt</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="../login.html"><i class="bi bi-box-arrow-right me-2"></i>Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="admin-content">
        <div class="container-fluid px-4 py-4">
            <!-- Page Heading -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb mb-0">
                            <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Quản lý sự kiện</li>
                        </ol>
                    </nav>
                    <h1 class="h3 mb-0 text-gray-800">Quản lý sự kiện</h1>
                  
                </div>
                <div>
                    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#addEventModal">
                        <i class="bi bi-plus-circle"></i> Thêm sự kiện mới
                    </button>
                </div>
            </div>

            <!-- Events Card -->
            <div class="card admin-card mb-4">
                <div class="card-header py-3 bg-white">
                    <h6 class="m-0 font-weight-bold">Danh sách sự kiện</h6>
                </div>

                <div class="card-body">
                    <!-- Filter Buttons -->
                    <div class="card-body border-bottom pb-3">
                        <div class="d-flex flex-wrap gap-2">
                            <button type="button" class="btn btn-sm btn-outline-secondary filter-btn active" data-filter="all">
                                Tất cả
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-success filter-btn" data-filter="active">
                                <span class="event-status status-active"></span> Đang diễn ra
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-warning filter-btn" data-filter="pending">
                                <span class="event-status status-pending"></span> Chờ duyệt
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-primary filter-btn" data-filter="completed">
                                <span class="event-status status-completed"></span> Đã diễn ra
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-danger filter-btn" data-filter="cancelled">
                                <span class="event-status status-cancelled"></span> Đã hủy
                            </button>
                            
                            <div class="ms-auto d-flex align-items-center">
                                <label class="me-2 text-nowrap">Danh mục:</label>
                                <select class="form-select form-select-sm" id="categoryFilter" style="width: auto; min-width: 150px;">
                                    <option value="">Tất cả danh mục</option>
                                    <option value="Hội thảo">Hội thảo</option>
                                    <option value="Workshop">Workshop</option>
                                    <option value="Tuyển dụng">Tuyển dụng</option>
                                    <option value="Văn hóa">Văn hóa</option>
                                    <option value="Cuộc thi">Cuộc thi</option>
                                    <option value="Talkshow">Talkshow</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Events Table -->
                    <div class="table-responsive p-3">
                        <table id="eventsTable" class="table table-hover table-striped w-100" style="min-width: 1000px;">
                            <thead class="table-light">
                                <tr>
                                    <th style="min-width: 50px; width: 50px;">ID</th>
                                    <th style="min-width: 120px; width: 120px;">Hình ảnh</th>
                                    <th style="min-width: 200px;">Tên sự kiện</th>
                                    <th style="min-width: 120px;">Danh mục</th>
                                    <th style="min-width: 150px;">Ngày diễn ra</th>
                                    <th style="min-width: 120px;">Địa điểm</th>
                                    <th style="min-width: 100px;">Đăng ký</th>
                                    <th style="min-width: 120px; width: 120px;">Trạng thái</th>
                                    <th style="min-width: 130px; width: 130px;">Hành động</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr id="event-1">
                                    <td>1</td>
                                    <td><img src="../public/images/events/event-1.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Hội thảo Ngân hàng số và Tương lai Thanh toán</td>
                                    <td>Hội thảo</td>
                                    <td>15/04/2025 <small class="text-muted d-block">08:30 - 11:30</small></td>
                                    <td>Hội trường A</td>
                                    <td>125/150</td>
                                    <td><span class="event-status status-active"></span> Đang mở</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="1" data-event-name="Hội thảo Ngân hàng số và Tương lai Thanh toán">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="1">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="1" data-event-name="Hội thảo Ngân hàng số và Tương lai Thanh toán">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-2">
                                    <td>2</td>
                                    <td><img src="../public/images/events/event-2.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Ngày hội Việc làm Ngành Tài chính - Ngân hàng 2025</td>
                                    <td>Tuyển dụng</td>
                                    <td>20/04/2025 <small class="text-muted d-block">08:00 - 16:00</small></td>
                                    <td>Sân trường</td>
                                    <td>78/200</td>
                                    <td><span class="event-status status-active"></span> Đang mở</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="2" data-event-name="Ngày hội Việc làm Ngành Tài chính - Ngân hàng 2025">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="2">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="2" data-event-name="Ngày hội Việc làm Ngành Tài chính - Ngân hàng 2025">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-3">
                                    <td>3</td>
                                    <td><img src="../public/images/events/event-3.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Talkshow: Từ Giảng đường đến Startup Triệu đô</td>
                                    <td>Talkshow</td>
                                    <td>22/05/2025 <small class="text-muted d-block">14:00 - 16:30</small></td>
                                    <td>Hội trường B</td>
                                    <td>45/120</td>
                                    <td><span class="event-status status-pending"></span> Chờ duyệt</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="3" data-event-name="Talkshow: Từ Giảng đường đến Startup Triệu đô">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="3">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="3" data-event-name="Talkshow: Từ Giảng đường đến Startup Triệu đô">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-4">
                                    <td>4</td>
                                    <td><img src="../public/images/events/event-4.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Workshop Kỹ năng Thuyết trình Hiệu quả</td>
                                    <td>Workshop</td>
                                    <td>10/05/2025 <small class="text-muted d-block">13:30 - 16:30</small></td>
                                    <td>Phòng A204</td>
                                    <td>30/40</td>
                                    <td><span class="event-status status-active"></span> Đang mở</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="4" data-event-name="Workshop Kỹ năng Thuyết trình Hiệu quả">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="4">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="4" data-event-name="Workshop Kỹ năng Thuyết trình Hiệu quả">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-5">
                                    <td>5</td>
                                    <td><img src="../public/images/events/event-5.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Ngày hội Văn hóa Sinh viên</td>
                                    <td>Văn hóa</td>
                                    <td>05/05/2024 <small class="text-muted d-block">08:00 - 17:00</small></td>
                                    <td>Sân vận động</td>
                                    <td>312/400</td>
                                    <td><span class="event-status status-completed"></span> Đã diễn ra</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="5" data-event-name="Ngày hội Văn hóa Sinh viên">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="5">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="5" data-event-name="Ngày hội Văn hóa Sinh viên">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-6">
                                    <td>6</td>
                                    <td><img src="../public/images/events/event-6.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Hội thảo Quốc tế về Fintech và Blockchain</td>
                                    <td>Hội thảo</td>
                                    <td>15/03/2025 <small class="text-muted d-block">08:30 - 16:30</small></td>
                                    <td>Hội trường lớn</td>
                                    <td>156/200</td>
                                    <td><span class="event-status status-cancelled"></span> Đã hủy</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="6" data-event-name="Hội thảo Quốc tế về Fintech và Blockchain">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="6">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="6" data-event-name="Hội thảo Quốc tế về Fintech và Blockchain">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-7">
                                    <td>7</td>
                                    <td><img src="../public/images/events/event-7.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Cuộc thi Ý tưởng Khởi nghiệp Sáng tạo</td>
                                    <td>Cuộc thi</td>
                                    <td>10/06/2025 <small class="text-muted d-block">08:00 - 17:00</small></td>
                                    <td>Hội trường A</td>
                                    <td>45/100</td>
                                    <td><span class="event-status status-active"></span> Đang mở</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="7" data-event-name="Cuộc thi Ý tưởng Khởi nghiệp Sáng tạo">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="7">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="7" data-event-name="Cuộc thi Ý tưởng Khởi nghiệp Sáng tạo">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr id="event-8">
                                    <td>8</td>
                                    <td><img src="../public/images/events/event-8.jpg" alt="Hình sự kiện" class="table-image"></td>
                                    <td>Workshop Kỹ năng Phân tích Dữ liệu</td>
                                    <td>Workshop</td>
                                    <td>17/04/2025 <small class="text-muted d-block">13:30 - 16:30</small></td>
                                    <td>Phòng B302</td>
                                    <td>28/30</td>
                                    <td><span class="event-status status-active"></span> Đang mở</td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button type="button" class="btn btn-outline-info btn-view" data-bs-toggle="modal" data-bs-target="#viewEventModal" data-event-id="8" data-event-name="Workshop Kỹ năng Phân tích Dữ liệu">
                                                <i class="bi bi-eye"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary btn-edit" data-bs-toggle="modal" data-bs-target="#addEventModal" data-event-id="8">
                                                <i class="bi bi-pencil-square"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-delete" data-bs-toggle="modal" data-bs-target="#deleteEventModal" data-event-id="8" data-event-name="Workshop Kỹ năng Phân tích Dữ liệu">
                                                <i class="bi bi-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add Event Modal -->
    <div class="modal fade" id="addEventModal" tabindex="-1" aria-labelledby="addEventModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addEventModalLabel">Thêm sự kiện mới</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addEventForm">
                        <div class="row mb-3">
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <label for="eventName" class="form-label">Tên sự kiện <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="eventName" required>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="eventCategory" class="form-label">Danh mục <span class="text-danger">*</span></label>
                                        <select class="form-select" id="eventCategory" required>
                                            <option value="">Chọn danh mục</option>
                                            <option value="1">Hội thảo</option>
                                            <option value="2">Workshop</option>
                                            <option value="3">Tuyển dụng</option>
                                            <option value="4">Văn hóa</option>
                                            <option value="5">Cuộc thi</option>
                                            <option value="6">Talkshow</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="eventLocation" class="form-label">Địa điểm <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="eventLocation" required>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label for="eventDate" class="form-label">Ngày <span class="text-danger">*</span></label>
                                        <input type="date" class="form-control" id="eventDate" required>
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label for="eventStartTime" class="form-label">Giờ bắt đầu</label>
                                        <input type="time" class="form-control" id="eventStartTime">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label for="eventEndTime" class="form-label">Giờ kết thúc</label>
                                        <input type="time" class="form-control" id="eventEndTime">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="eventMaxReg" class="form-label">Số lượng tối đa</label>
                                        <input type="number" class="form-control" id="eventMaxReg" min="1">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="eventStatus" class="form-label">Trạng thái</label>
                                        <select class="form-select" id="eventStatus">
                                            <option value="active">Đang mở</option>
                                            <option value="pending">Chờ duyệt</option>
                                            <option value="completed">Đã diễn ra</option>
                                            <option value="cancelled">Đã hủy</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label for="eventImage" class="form-label">Hình ảnh sự kiện</label>
                                <div class="text-center mb-3">
                                    <div class="border p-3 rounded mb-3" style="height: 180px; display: flex; align-items: center; justify-content: center; background-color: #f8f9fa;">
                                        <img id="eventImagePreview" src="../public/images/avatar-placeholder.png" class="img-fluid" alt="Xem trước" style="max-height: 160px;">
                                    </div>
                                    <input class="form-control form-control-sm" id="eventImage" type="file" accept="image/*">
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="eventFeatured">
                                    <label class="form-check-label" for="eventFeatured">
                                        Sự kiện nổi bật
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="eventDesc" class="form-label">Mô tả sự kiện</label>
                            <textarea class="form-control" id="eventDesc" rows="4"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-hub-red" id="saveEventBtn">Lưu sự kiện</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteEventModal" tabindex="-1" aria-labelledby="deleteEventModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="deleteEventModalLabel">Xác nhận xóa</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="bi bi-exclamation-triangle-fill text-danger" style="font-size: 3rem;"></i>
                    </div>
                    <p class="text-center">Bạn có chắc chắn muốn xóa sự kiện:</p>
                    <h5 class="text-center mb-3 fw-bold" id="delete-event-name">Hội thảo Ngân hàng số và Tương lai Thanh toán</h5>
                    <p class="text-center text-danger mb-0">Hành động này không thể hoàn tác!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
                        <i class="bi bi-trash me-1"></i> Xóa
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Event Modal -->
    <div class="modal fade" id="viewEventModal" tabindex="-1" aria-labelledby="viewEventModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title" id="viewEventModalLabel">Thông tin chi tiết sự kiện</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-md-12 text-center mb-4">
                            <img src="../public/images/events/event-1.jpg" alt="Ảnh sự kiện" id="event-image" class="img-fluid rounded" style="max-height: 250px;">
                            <h4 class="mt-3" id="event-name">Hội thảo Ngân hàng số và Tương lai Thanh toán</h4>
                            <div id="event-status-badge" class="badge bg-success">Đang mở</div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Danh mục</label>
                                <p class="border-bottom pb-2" id="event-category">Hội thảo</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Ngày diễn ra</label>
                                <p class="border-bottom pb-2" id="event-date">15/04/2025</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Thời gian</label>
                                <p class="border-bottom pb-2" id="event-time">08:30 - 11:30</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Địa điểm</label>
                                <p class="border-bottom pb-2" id="event-location">Hội trường A</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Số người đăng ký</label>
                                <p class="border-bottom pb-2" id="event-registration">125/150</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Sự kiện nổi bật</label>
                                <p class="border-bottom pb-2" id="event-featured">
                                    <i class="bi bi-star-fill text-warning"></i> Có
                                </p>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Mô tả</label>
                                <div class="p-3 bg-light rounded" id="event-description">
                                    <p>Hội thảo "Ngân hàng số và Tương lai Thanh toán" là sự kiện đặc biệt mang đến cái nhìn toàn diện về xu hướng số hóa trong ngành tài chính - ngân hàng. Đây là cơ hội để sinh viên tiếp cận với những kiến thức mới nhất về công nghệ Fintech, các giải pháp thanh toán hiện đại và tương lai của ngành ngân hàng số.</p>
                                    
                                    <p>Diễn giả: GS.TS Nguyễn Văn A - Giám đốc Trung tâm Nghiên cứu Fintech, TS. Trần Thị B - Giám đốc Khối Công nghệ Ngân hàng XYZ.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Danh sách người tham gia -->
                    <div class="mt-4">
                        <h5 class="border-bottom pb-2 text-primary">Người tham gia đã đăng ký</h5>
                        <div class="table-responsive">
                            <table class="table table-sm table-hover">
                                <thead class="table-light">
                                    <tr>
                                        <th>#</th>
                                        <th>Họ tên</th>
                                        <th>Email</th>
                                        <th>Thời gian đăng ký</th>
                                        <th>Trạng thái</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>Nguyễn Văn A</td>
                                        <td>a.nguyenvan@hub.edu.vn</td>
                                        <td>01/04/2025 10:23</td>
                                        <td><span class="badge bg-success">Đã xác nhận</span></td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>Dương Thị Ly A</td>
                                        <td>a.duongly@hub.edu.vn</td>
                                        <td>01/04/2025 15:07</td>
                                        <td><span class="badge bg-success">Đã xác nhận</span></td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>Lê Nguyễn Xuân Ái</td>
                                        <td>ai.lenguyen@hub.edu.vn</td>
                                        <td>02/04/2025 09:15</td>
                                        <td><span class="badge bg-warning text-dark">Chờ xác nhận</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="text-center mt-2">
                            <button class="btn btn-sm btn-outline-secondary">
                                <i class="bi bi-person-lines-fill me-1"></i> Xem tất cả đăng ký (125)
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-info edit-from-view" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#addEventModal">
                        <i class="bi bi-pencil-square me-1"></i> Chỉnh sửa
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- DataTables JS -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
        });

        // Toggle sidebar on mobile
        document.getElementById('toggleSidebarBtn').addEventListener('click', function() {
            document.getElementById('adminSidebar').classList.toggle('show');
        });

        document.getElementById('closeSidebarBtn').addEventListener('click', function() {
            document.getElementById('adminSidebar').classList.remove('show');
        });

        // Initialize DataTables
        $(document).ready(function() {
            var eventsTable = $('#eventsTable').DataTable({
                language: {
                    url: '//cdn.datatables.net/plug-ins/1.13.7/i18n/vi.json',
                },
                order: [[0, 'desc']],
                columnDefs: [
                    { orderable: false, targets: [1, 8] }
                ]
            });

            // Enable Bootstrap tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl)
            });

            // Handle search input
            $('#searchInput').on('keyup', function() {
                eventsTable.search(this.value).draw();
            });

            // Handle category filter
            $('#categoryFilter').on('change', function() {
                let selectedCategory = $(this).val();
                
                if (selectedCategory) {
                    eventsTable.column(3).search(selectedCategory).draw();
                } else {
                    eventsTable.column(3).search('').draw();
                }
            });

            // Handle status filter buttons
            $('.filter-btn').on('click', function() {
                $('.filter-btn').removeClass('active');
                $(this).addClass('active');
                
                let statusFilter = $(this).data('filter');
                if (statusFilter === 'all') {
                    eventsTable.column(7).search('').draw();
                } else {
                    let statusMap = {
                        'active': 'Đang mở',
                        'pending': 'Chờ duyệt',
                        'completed': 'Đã diễn ra',
                        'cancelled': 'Đã hủy'
                    };
                    eventsTable.column(7).search(statusMap[statusFilter]).draw();
                }
            });

            // Handle View Event Modal
            $('.btn-view').on('click', function() {
                const eventId = $(this).data('event-id');
                const eventName = $(this).data('event-name');
                const row = $('#event-' + eventId);
                
                // Set data in the modal
                $('#event-name').text(eventName);
                $('#event-image').attr('src', row.find('img').attr('src'));
                $('#event-category').text(row.find('td:eq(3)').text());
                
                const dateTime = row.find('td:eq(4)').text().trim().split('\n');
                $('#event-date').text(dateTime[0].trim());
                $('#event-time').text(dateTime[1] ? dateTime[1].trim() : '');
                
                $('#event-location').text(row.find('td:eq(5)').text());
                $('#event-registration').text(row.find('td:eq(6)').text());
                
                const status = row.find('td:eq(7)').text().trim();
                $('#event-status-badge').text(status);
                
                // Update status badge color
                $('#event-status-badge').removeClass().addClass('badge');
                if (status.includes('Đang mở')) {
                    $('#event-status-badge').addClass('bg-success');
                } else if (status.includes('Chờ duyệt')) {
                    $('#event-status-badge').addClass('bg-warning text-dark');
                } else if (status.includes('Đã diễn ra')) {
                    $('#event-status-badge').addClass('bg-primary');
                } else if (status.includes('Đã hủy')) {
                    $('#event-status-badge').addClass('bg-danger');
                }
                
                // Setup the edit button in view modal
                $('.edit-from-view').data('event-id', eventId);
            });

            // Handle Delete Modal
            $('.btn-delete').on('click', function() {
                const eventId = $(this).data('event-id');
                const eventName = $(this).data('event-name');
                
                $('#delete-event-name').text(eventName);
                $('#confirmDeleteBtn').data('event-id', eventId);
            });

            // Confirm Delete
            $('#confirmDeleteBtn').on('click', function() {
                const eventId = $(this).data('event-id');
                
                // Here you would make an AJAX call to delete the event
                // For demo, we'll just remove the row from the table
                eventsTable.row('#event-' + eventId).remove().draw();
                
                // Hide modal
                $('#deleteEventModal').modal('hide');
                
                // Show success message
                showNotification('Sự kiện đã được xóa thành công', 'success');
            });

            // Handle Edit Event
            $('.btn-edit').on('click', function() {
                const eventId = $(this).data('event-id');
                // Populate form with event data - in a real app, you would fetch this from the server
                // or extract it from the table row
                
                // This is just a demo, so we'll set the modal title to indicate editing
                $('#addEventModalLabel').text('Chỉnh sửa sự kiện');
                $('#saveEventBtn').text('Cập nhật sự kiện');
                
                // You would populate the form with event data here
            });

           
            // Image preview in Add/Edit modal
            const eventImage = document.getElementById('eventImage');
            const eventImagePreview = document.getElementById('eventImagePreview');

            eventImage?.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        eventImagePreview.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Save event
            const saveEventBtn = document.getElementById('saveEventBtn');
            saveEventBtn?.addEventListener('click', function() {
                const form = document.getElementById('addEventForm');
                if (form.checkValidity()) {
                    // Simulated save - would be an API call in production
                    const modal = bootstrap.Modal.getInstance(document.getElementById('addEventModal'));
                    modal.hide();
                    
                    // Show success message
                    showNotification('Sự kiện đã được lưu thành công!', 'success');
                    
                    // Reset form
                    form.reset();
                    eventImagePreview.src = '../public/images/avatar-placeholder.png';
                    $('#addEventModalLabel').text('Thêm sự kiện mới');
                    $('#saveEventBtn').text('Lưu sự kiện');
                } else {
                    form.reportValidity();
                }
            });
        });

        // Notification function
        function showNotification(message, type = 'info') {
            const notificationDiv = document.createElement('div');
            notificationDiv.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            notificationDiv.style.top = '70px';
            notificationDiv.style.right = '20px';
            notificationDiv.style.zIndex = '9999';
            notificationDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            `;
            document.body.appendChild(notificationDiv);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notificationDiv.remove();
            }, 5000);
        }
    </script>
</body>

</html>
